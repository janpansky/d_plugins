// (C) 2023 GoodData Corporation
import { __assign, __rest } from "tslib";
import { Bubble } from "./Bubble";
import { BubbleHoverTrigger } from "./BubbleHoverTrigger";
import React from "react";
import { useIntl } from "react-intl";
/**
 * @internal
 */
export function withBubble(WrappedComponent) {
    var ResultComponent = function (props) {
        var _a = props.showBubble, showBubble = _a === void 0 ? true : _a, _b = props.alignPoints, alignPoints = _b === void 0 ? [{ align: "cr cl" }] : _b, bubbleTextId = props.bubbleTextId, triggerClassName = props.triggerClassName, wrappedComponentProps = __rest(props, ["showBubble", "alignPoints", "bubbleTextId", "triggerClassName"]);
        var intl = useIntl();
        if (!showBubble || !bubbleTextId) {
            return React.createElement(WrappedComponent, __assign({}, props));
        }
        var bubbleText = intl.formatMessage({ id: bubbleTextId });
        return (React.createElement(BubbleHoverTrigger, { className: triggerClassName },
            React.createElement(WrappedComponent, __assign({}, wrappedComponentProps)),
            React.createElement(Bubble, { alignPoints: alignPoints },
                React.createElement("div", null, bubbleText))));
    };
    return ResultComponent;
}
//# sourceMappingURL=withBubble.js.map