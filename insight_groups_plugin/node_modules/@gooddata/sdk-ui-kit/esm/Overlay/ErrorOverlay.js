// (C) 2022 GoodData Corporation
import { __assign, __extends } from "tslib";
import React from "react";
import { injectIntl } from "react-intl";
import { useTheme } from "@gooddata/sdk-ui-theme-provider";
import { Button } from "../Button";
import { Icon } from "../Icon";
import { Typography } from "../Typography";
import { Overlay } from "./Overlay";
import { IntlWrapper } from "@gooddata/sdk-ui";
var ErrorOverlayCore = function (props) {
    var _a, _b;
    var _c = props.showIcon, showIcon = _c === void 0 ? true : _c, _d = props.showButton, showButton = _d === void 0 ? true : _d, icon = props.icon, title = props.title, text = props.text, buttonTitle = props.buttonTitle, onButtonClick = props.onButtonClick, className = props.className, intl = props.intl;
    var theme = useTheme();
    var IconComponent = icon !== null && icon !== void 0 ? icon : (React.createElement(Icon.Leave, { color: (_b = (_a = theme === null || theme === void 0 ? void 0 : theme.palette) === null || _a === void 0 ? void 0 : _a.primary) === null || _b === void 0 ? void 0 : _b.base, className: "gd-error-overlay-icon" }));
    var titleContent = title !== null && title !== void 0 ? title : intl.formatMessage({ id: "error.overlay.title" });
    var textContent = text !== null && text !== void 0 ? text : intl.formatMessage({ id: "error.overlay.text" });
    var buttonValue = buttonTitle !== null && buttonTitle !== void 0 ? buttonTitle : intl.formatMessage({ id: "error.overlay.login" });
    return (React.createElement(Overlay, { isModal: true, positionType: "fixed", alignPoints: [{ align: "cc cc" }], closeOnEscape: false, closeOnParentScroll: false, closeOnOutsideClick: false, closeOnMouseDrag: false, zIndex: 10001, containerClassName: "gd-error-overlay-content", className: className },
        React.createElement("div", { className: "gd-error-overlay s-error-overlay" },
            showIcon ? IconComponent : null,
            React.createElement(Typography, { tagName: "h2" }, titleContent),
            React.createElement("div", { className: "gd-error-overlay-text" }, textContent),
            showButton ? (React.createElement(Button, { className: "gd-button gd-button-action gd-error-overlay-button", value: buttonValue, onClick: onButtonClick })) : null)));
};
var ErrorOverlayWithIntl = injectIntl(ErrorOverlayCore);
/**
 * @internal
 */
var ErrorOverlay = /** @class */ (function (_super) {
    __extends(ErrorOverlay, _super);
    function ErrorOverlay() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ErrorOverlay.prototype.render = function () {
        return (React.createElement(IntlWrapper, { locale: this.props.locale },
            React.createElement(ErrorOverlayWithIntl, __assign({}, this.props))));
    };
    return ErrorOverlay;
}(React.PureComponent));
export { ErrorOverlay };
//# sourceMappingURL=ErrorOverlay.js.map