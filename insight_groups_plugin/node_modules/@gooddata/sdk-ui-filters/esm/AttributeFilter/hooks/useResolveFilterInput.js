// (C) 2021-2022 GoodData Corporation
import { useCallback, useMemo } from "react";
import { idRef, newNegativeAttributeFilter } from "@gooddata/sdk-model";
import { usePlaceholder } from "@gooddata/sdk-ui";
/**
 * @internal
 */
export var useResolveFilterInput = function (filter, connectToPlaceholder, identifier) {
    var _a = usePlaceholder(connectToPlaceholder), resolvedPlaceholder = _a[0], setPlaceholderValue = _a[1];
    var currentFilter = useMemo(function () {
        var _a;
        return (_a = resolvedPlaceholder !== null && resolvedPlaceholder !== void 0 ? resolvedPlaceholder : filter) !== null && _a !== void 0 ? _a : createFilterFormIdentifier(identifier);
    }, [resolvedPlaceholder, filter, identifier]);
    var setConnectedPlaceholderValue = useCallback(function (filter) {
        if (connectToPlaceholder) {
            setPlaceholderValue(filter);
        }
    }, [connectToPlaceholder, setPlaceholderValue]);
    return {
        filter: currentFilter,
        setConnectedPlaceholderValue: setConnectedPlaceholderValue,
    };
};
var createFilterFormIdentifier = function (identifier) {
    return newNegativeAttributeFilter(idRef(identifier), {
        uris: [],
    });
};
//# sourceMappingURL=useResolveFilterInput.js.map