// (C) 2021-2022 GoodData Corporation
import { useMemo } from "react";
import { useResolveValueWithPlaceholders } from "@gooddata/sdk-ui";
import { filterIsEmpty } from "@gooddata/sdk-model";
import isFunction from "lodash/isFunction";
/**
 * @internal
 */
export var useResolveParentFiltersInput = function (parentFilters, overAttribute) {
    var resolvedParentFilters = useResolveValueWithPlaceholders(parentFilters);
    return useMemo(function () {
        return getParentFiltersWithOverAttribute(resolvedParentFilters, overAttribute);
    }, [resolvedParentFilters, overAttribute]);
};
var getParentFiltersWithOverAttribute = function (parentFilters, overAttribute) {
    if (!parentFilters || !overAttribute) {
        return [];
    }
    var overAttributeGetter = isFunction(overAttribute) ? overAttribute : function () { return overAttribute; };
    return parentFilters
        .map(function (attributeFilter, index) {
        return {
            attributeFilter: attributeFilter,
            overAttribute: overAttributeGetter(attributeFilter, index),
        };
    })
        .filter(function (item) {
        return !filterIsEmpty(item.attributeFilter);
    });
};
//# sourceMappingURL=useResolveParentFiltersInput.js.map