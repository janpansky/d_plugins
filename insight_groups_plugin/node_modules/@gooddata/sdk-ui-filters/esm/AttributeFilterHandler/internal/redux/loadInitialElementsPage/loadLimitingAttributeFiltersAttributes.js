import { __awaiter, __generator } from "tslib";
// (C) 2022 GoodData Corporation
import { convertError } from "@gooddata/sdk-ui";
import { filterObjRef } from "@gooddata/sdk-model";
/**
 * @internal
 */
export function loadLimitingAttributeFiltersAttributes(context, limitingAttributeFilters) {
    return __awaiter(this, void 0, void 0, function () {
        var displayFormRefs;
        return __generator(this, function (_a) {
            displayFormRefs = limitingAttributeFilters.map(function (limitingAttributeFilter) {
                return filterObjRef(limitingAttributeFilter.attributeFilter);
            });
            return [2 /*return*/, Promise.all(displayFormRefs.map(function (displayFormRef) {
                    return context.backend
                        .workspace(context.workspace)
                        .attributes()
                        .getAttributeByDisplayForm(displayFormRef);
                })).catch(function (err) {
                    // Convert from AnalyticalBackendError to GoodDataSdkError
                    throw convertError(err);
                })];
        });
    });
}
//# sourceMappingURL=loadLimitingAttributeFiltersAttributes.js.map