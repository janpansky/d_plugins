// (C) 2021-2022 GoodData Corporation
import React, { useCallback } from "react";
import { useIntl } from "react-intl";
import { Button } from "@gooddata/sdk-ui-kit";
import { selectIsDashboardSaving, selectIsInEditMode, useDashboardDispatch, useDashboardSelector, } from "../../../../../model";
import { cancelEditRenderMode } from "../../../../../model/commands/ui";
/**
 * @internal
 */
export function useCancelButtonProps() {
    var dispatch = useDashboardDispatch();
    var isEditing = useDashboardSelector(selectIsInEditMode);
    var isSaving = useDashboardSelector(selectIsDashboardSaving);
    var onCancelClick = useCallback(function () { return dispatch(cancelEditRenderMode()); }, [dispatch]);
    return {
        isVisible: isEditing && !isSaving,
        onCancelClick: onCancelClick,
    };
}
/**
 * @internal
 */
export function DefaultCancelButton(_a) {
    var isVisible = _a.isVisible, onCancelClick = _a.onCancelClick;
    var intl = useIntl();
    if (!isVisible) {
        return null;
    }
    return (React.createElement(Button, { className: "gd-button-secondary cancel-button s-cancel_button", value: intl.formatMessage({ id: "cancel" }), onClick: onCancelClick }));
}
//# sourceMappingURL=DefaultCancelButton.js.map