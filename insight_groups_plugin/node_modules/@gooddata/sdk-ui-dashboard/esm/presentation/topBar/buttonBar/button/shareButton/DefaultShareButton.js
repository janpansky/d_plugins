// (C) 2021-2022 GoodData Corporation
import React, { useCallback } from "react";
import { useIntl } from "react-intl";
import { Button } from "@gooddata/sdk-ui-kit";
import { uiActions, useDashboardDispatch, useDashboardSelector } from "../../../../../model";
import { HiddenShareButton } from "./HiddenShareButton";
import { selectIsShareButtonVisible } from "../selectors";
/**
 * @internal
 */
export function useShareButtonProps() {
    var dispatch = useDashboardDispatch();
    var onShareButtonClick = useCallback(function () { return dispatch(uiActions.openShareDialog()); }, [dispatch]);
    var isVisible = useDashboardSelector(selectIsShareButtonVisible);
    return {
        isVisible: isVisible,
        onShareButtonClick: onShareButtonClick,
    };
}
/**
 * @alpha
 */
export var DefaultShareButton = function (_a) {
    var isVisible = _a.isVisible, onShareButtonClick = _a.onShareButtonClick;
    var intl = useIntl();
    if (!isVisible) {
        return React.createElement(HiddenShareButton, null);
    }
    return (React.createElement(React.Fragment, null,
        React.createElement(Button, { onClick: function () { return onShareButtonClick(); }, value: intl.formatMessage({ id: "share.button.text" }), className: "gd-button-secondary dash-header-share-button s-header-share-button gd-button gd-icon-users" })));
};
//# sourceMappingURL=DefaultShareButton.js.map