import { __awaiter, __generator } from "tslib";
export function getElementTitle(projectId, dfRef, attrElementUriOrPrimaryLabel, ctx) {
    return __awaiter(this, void 0, void 0, function () {
        var queryOptions, validElementsQuery;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    queryOptions = {
                        elements: ctx.backend.capabilities.supportsElementUris
                            ? {
                                uris: [attrElementUriOrPrimaryLabel],
                            }
                            : {
                                primaryValues: [attrElementUriOrPrimaryLabel],
                            },
                    };
                    return [4 /*yield*/, ctx.backend
                            .workspace(projectId)
                            .attributes()
                            .elements()
                            .forDisplayForm(dfRef)
                            .withLimit(1)
                            .withOptions(queryOptions)
                            .query()];
                case 1:
                    validElementsQuery = _a.sent();
                    return [2 /*return*/, validElementsQuery.items[0].title];
            }
        });
    });
}
//# sourceMappingURL=getElementTitle.js.map